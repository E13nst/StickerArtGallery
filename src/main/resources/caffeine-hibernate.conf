# Конфигурация Caffeine JCache для Hibernate L2 Cache
# Документация: https://github.com/ben-manes/caffeine/wiki/JCache

caffeine.jcache {
  # Кеш для пользователей Telegram (часто читаются при аутентификации)
  # Обновляются при каждой аутентификации, но читаются чаще
  users {
    policy.maximum.size = 500
    policy.expire-after-access = 15 minutes
    monitoring.statistics = true
  }
  
  # Кеш для профилей пользователей (роли, баланс)
  # Часто читаются для проверки прав доступа
  userProfiles {
    policy.maximum.size = 500
    policy.expire-after-access = 15 minutes
    monitoring.statistics = true
  }
  
  # Кеш для категорий (справочные данные, редко меняются)
  categories {
    policy.maximum.size = 100
    policy.expire-after-write = 30 minutes
    monitoring.statistics = true
  }
  
  # Кеш для правил ART-баланса (справочные данные)
  artRules {
    policy.maximum.size = 50
    policy.expire-after-write = 30 minutes
    monitoring.statistics = true
  }
  
  # Дефолтный кеш для остальных регионов
  default {
    policy.maximum.size = 200
    policy.expire-after-access = 10 minutes
    monitoring.statistics = true
  }
}
